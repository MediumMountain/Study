# シリアル通信
- データを送受信するための伝送路を1本、または2本使用して、データを1ビットずつ連続的に送受信する通信方式です。
- 少ない信号線での接続が可能であるため、線材や中継装置のコストが抑えられるなどのメリットがあります。

- シリアル通信の規格には、RS-232C、RS-422A、RS-485があります。
- RS-232C・RS-422A・RS-485は、EIA（Electronic Industries Association：米国電子工業会）の通信規格です。
- 中でもRS-232Cは、通信規格の中でも用途を問わず多く普及し、パソコンにも標準で搭載されおり、モデムやマウスの接続によく利用されています。
- センサやアクチュエータの中にも、これらのインターフェイスを持ち、通信により制御可能なものもが多く存在します。


## RS-232C
- パソコンに標準で搭載されるなど、最も広く使われているシリアル通信規格です。
- 「EIA-232」とも呼ばれます。
- 各信号線の目的やタイミングのほか、接続コネクタも規定されています（D-SUB 25ピンまたはD-SUB 9ピン）。
- 現在は信号線の追加などで規格が改訂され、正式名称は「ANSI/EIA-232-E」。しかし、現在でも一般には「RS-232C」と呼ばれています。


- RS-232Cは、使用するコネクタや信号配置も規定され標準化されています。

### 接続方法
- RS-232Cは、コネクタや信号配置が規格化されているため、規格準拠のケーブルが数多く市販されています。ただし、装置には以下の種類があり、接続する装置によって、ストレートケーブルとクロス（リバース）ケーブルを使い分ける必要があります。

装置の種類
DCE
Data Communication Equipment（データ通信装置）。モデムやプリンタ、プロッタのように受動的に動作する装置を指します。

DTE
Data Terminal Equipment（端末装置）。パソコンのように能動的に動作する装置を指します。


## RS-422A
- RS-232Cでは伝送距離が短い、伝送速度が遅いなどの欠点を改良してできた規格です。
- 「EIA-422A」とも呼ばれます。
- 各信号線の目的やタイミングは規定されていますが、接続コネクタの規定はありません。
- 多くの対応製品では、D-SUB 25ピンまたはD-SUB 9ピンが主に採用されています。


## RS-485
- RS-422Aでは接続台数が少ないという点を改良してできた規格です。
- 「EIA-485」とも呼ばれます。
- RS-485は、RS-422Aに対し上位互換の規格です。
- 各信号線の目的やタイミングは規定されていますが、接続コネクタの規定はありません。
    - 多くの対応製品では、D-SUB 25ピンまたはD-SUB 9ピンが主に採用されています。




|パラメータ	|RS-232C	|RS-422A	|RS-485|
|:---------:|:-------:|:--------:|:-------:|
|伝送モード	|シンプレックス|マルチポイント,シンプレックス|マルチポイント,マルチプレックス|
|最大接続台数|	1ドライバ,1レシーバ|1ドライバ,10レシーバ|	32ドライバ,32レシーバ|  
|最大伝送速度|	20Kbps|	10Mbps|	10Mbps|
|最大ケーブル長	|15m	|1200m	|1200m|
|動作モード	|シングルエンド（非平衡型）	|ディファレンシャル（平衡型）|	ディファレンシャル（平衡型）|
|特長	|短距離  全2重  1:1の接続  |	長距離  全2重 半2  1:Nの接続|	長距離  全2重 半2重  N:Nの接続|



# その他のシリアル通信に関する情報
## 入力方式と処理方法
- シリアルデバイスにおいてデータの入力はread関数によって行われる．
- この時，read関数が受け取るデータの単位と受け取る時の処理に幾通りかの方法がある．
- 受け取るデータの単位に関する方法として，カノニカル入力処理と非カノニカル入力処理がある．
- また受け取る時の処理方法として，同期処理と非同期処理がある．

|| カノニカル入力処理	|非カノニカル入力処理|
|:---------:|:-------:|:-------:|
|同期処理	|カノニカル・同期	|非カノニカル・同期|
|非同期処理|	カノニカル・非同期|	非カノニカル・非同期|


### 同期・非同期入力処理
- 同期処理

    - read関数にてデータ読み込みが始まると，データを読み終えるまでプログラムの処理は中断される．
    - つまりデータが読み込まれるまで待つ．

- 非同期処理

    - read関数にてデータ読み込みが始まると，プログラム自体はread関数の次の行から処理が再開される．
    - つまり，データが読み終えるまで待たずに，次の処理が続行される．
    - データ読み込みが終わるとシステムがプログラムにシグナル(信号・合図)を送るしくみとなる．

    

### カノニカル・非カノニカル入力処理
- カノニカル入力処理(デフォルト)

    - 外部からの全ての入力は，行単位で処理される．
    - つまり，readによって得られるデータは1行全体である．よってデータは以下のいずれかで終わる．

        - NL(ASCIIのLF)
        - ファイル終端
        - 行終端文字

    - 注意点としては，標準の設定ではCR(DOS/Windowsのデフォルトの行終端文字)は行終端とはならない．

### 非カノニカル入力処理

- read関数を呼び出す際に読み込むデータの大きさを指定する方法である．
- 特に，プログラムが決まった文字数のキャラクタを読み込む時や，接続したデバイスが大量の文字を送ってくる場合に使用する．